<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <title>旋转轮播图效果</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <link rel="stylesheet" href="css/demo.css" />
  <script src="jquery-1.12.2.js"></script>
</head>

<body>
  <div class="wrap">
    <div class="slide" id="slide">
      <ul>
        <li><img src="img/slidepic1.jpg" alt="" /></li>
        <li><img src="img/slidepic2.jpg" alt="" /></li>
        <li><img src="img/slidepic3.jpg" alt="" /></li>
        <li><img src="img/slidepic4.jpg" alt="" /></li>
        <li><img src="img/slidepic5.jpg" alt="" /></li>
      </ul>
      <div class="arrow">
        <a href="javascript:;" class="prev"></a>
        <a href="javascript:;" class="next"></a>
      </div>
    </div>
  </div>
</body>

</html>
<script>
  $(function () {
    var arr = [
      {
        zIndex: 2,
        width: '564px',
        height: '330px',
        left: '34px',
        top: 0,
        opacity: 0
      },
      {
        zIndex: 3,
        width: '564px',
        height: '330px',
        left: '34px',
        top: '79px',
        opacity: 0.8
      },
      {
        zIndex: 4,
        width: '800px',
        height: '500px',
        left: '200px',
        top: '0px',
        opacity: 1,
      },
      {
        zIndex: 3,
        width: '564px',
        height: '330px',
        left: '605px',
        top: '79px',
        opacity: 0.8
      },
      {
        zIndex: 2,
        width: '564px',
        height: '330px',
        left: '605px',
        top: 0,
        opacity: 0
      }
    ];

    assign();
    $('.wrap').on('mouseenter', function () {
      $('.arrow').fadeIn();
    })

    $('.wrap').on('mouseleave', function () {
      $('.arrow').fadeOut();
    })
    var flag = true;
    $('.prev').on('click', function () {
      if (flag) {
        flag=false;
        arr.unshift(arr.pop());
        assign();
      }else{
        // flag=true;
      }
    })
    $('.next').on('click', function () {
      arr.push(arr.shift());
      assign();
    })
    function assign() {
      for (var i = 0; i < arr.length; i++) {
        $('li').eq(i).css('zIndex', arr[i].zIndex).stop().animate(arr[i], 1000,function(){
          flag=true;
        });
      }
    }
  })

</script>